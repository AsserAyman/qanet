export interface Surah {
  name: string;
  ayahs: number;
}

export const quranData: Surah[] = [
  {"name": "Al-Fatiha", "ayahs": 7},
  {"name": "Al-Baqara", "ayahs": 286},
  {"name": "Aal-E-Imran", "ayahs": 200},
  {"name": "An-Nisa", "ayahs": 176},
  {"name": "Al-Ma'idah", "ayahs": 120},
  {"name": "Al-An'am", "ayahs": 165},
  {"name": "Al-A'raf", "ayahs": 206},
  {"name": "Al-Anfal", "ayahs": 75},
  {"name": "At-Tawba", "ayahs": 129},
  {"name": "Yunus", "ayahs": 109},
  {"name": "Hud", "ayahs": 123},
  {"name": "Yusuf", "ayahs": 111},
  {"name": "Ar-Ra'd", "ayahs": 43},
  {"name": "Ibrahim", "ayahs": 52},
  {"name": "Al-Hijr", "ayahs": 99},
  {"name": "An-Nahl", "ayahs": 128},
  {"name": "Al-Isra", "ayahs": 111},
  {"name": "Al-Kahf", "ayahs": 110},
  {"name": "Maryam", "ayahs": 98},
  {"name": "Ta-Ha", "ayahs": 135},
  {"name": "Al-Anbiya", "ayahs": 112},
  {"name": "Al-Hajj", "ayahs": 78},
  {"name": "Al-Mu'minun", "ayahs": 118},
  {"name": "An-Nur", "ayahs": 64},
  {"name": "Al-Furqan", "ayahs": 77},
  {"name": "Ash-Shu'ara", "ayahs": 227},
  {"name": "An-Naml", "ayahs": 93},
  {"name": "Al-Qasas", "ayahs": 88},
  {"name": "Al-Ankabut", "ayahs": 69},
  {"name": "Ar-Rum", "ayahs": 60},
  {"name": "Luqman", "ayahs": 34},
  {"name": "As-Sajda", "ayahs": 30},
  {"name": "Al-Ahzab", "ayahs": 73},
  {"name": "Saba", "ayahs": 54},
  {"name": "Fatir", "ayahs": 45},
  {"name": "Ya-Sin", "ayahs": 83},
  {"name": "As-Saffat", "ayahs": 182},
  {"name": "Sad", "ayahs": 88},
  {"name": "Az-Zumar", "ayahs": 75},
  {"name": "Ghafir", "ayahs": 85},
  {"name": "Fussilat", "ayahs": 54},
  {"name": "Ash-Shura", "ayahs": 53},
  {"name": "Az-Zukhruf", "ayahs": 89},
  {"name": "Ad-Dukhan", "ayahs": 59},
  {"name": "Al-Jathiya", "ayahs": 37},
  {"name": "Al-Ahqaf", "ayahs": 35},
  {"name": "Muhammad", "ayahs": 38},
  {"name": "Al-Fath", "ayahs": 29},
  {"name": "Al-Hujurat", "ayahs": 18},
  {"name": "Qaf", "ayahs": 45},
  {"name": "Adh-Dhariyat", "ayahs": 60},
  {"name": "At-Tur", "ayahs": 49},
  {"name": "An-Najm", "ayahs": 62},
  {"name": "Al-Qamar", "ayahs": 55},
  {"name": "Ar-Rahman", "ayahs": 78},
  {"name": "Al-Waqia", "ayahs": 96},
  {"name": "Al-Hadid", "ayahs": 29},
  {"name": "Al-Mujadila", "ayahs": 22},
  {"name": "Al-Hashr", "ayahs": 24},
  {"name": "Al-Mumtahina", "ayahs": 13},
  {"name": "As-Saff", "ayahs": 14},
  {"name": "Al-Jumu'a", "ayahs": 11},
  {"name": "Al-Munafiqoon", "ayahs": 11},
  {"name": "At-Taghabun", "ayahs": 18},
  {"name": "At-Talaq", "ayahs": 12},
  {"name": "At-Tahrim", "ayahs": 12},
  {"name": "Al-Mulk", "ayahs": 30},
  {"name": "Al-Qalam", "ayahs": 52},
  {"name": "Al-Haqqa", "ayahs": 52},
  {"name": "Al-Ma'arij", "ayahs": 44},
  {"name": "Nuh", "ayahs": 28},
  {"name": "Al-Jinn", "ayahs": 28},
  {"name": "Al-Muzzammil", "ayahs": 20},
  {"name": "Al-Muddaththir", "ayahs": 56},
  {"name": "Al-Qiyama", "ayahs": 40},
  {"name": "Al-Insan", "ayahs": 31},
  {"name": "Al-Mursalat", "ayahs": 50},
  {"name": "An-Naba", "ayahs": 40},
  {"name": "An-Nazi'at", "ayahs": 46},
  {"name": "Abasa", "ayahs": 42},
  {"name": "At-Takwir", "ayahs": 29},
  {"name": "Al-Infitar", "ayahs": 19},
  {"name": "Al-Mutaffifin", "ayahs": 36},
  {"name": "Al-Inshiqaq", "ayahs": 25},
  {"name": "Al-Buruj", "ayahs": 22},
  {"name": "At-Tariq", "ayahs": 17},
  {"name": "Al-A'la", "ayahs": 19},
  {"name": "Al-Ghashiya", "ayahs": 26},
  {"name": "Al-Fajr", "ayahs": 30},
  {"name": "Al-Balad", "ayahs": 20},
  {"name": "Ash-Shams", "ayahs": 15},
  {"name": "Al-Lail", "ayahs": 21},
  {"name": "Ad-Duhaa", "ayahs": 11},
  {"name": "Ash-Sharh", "ayahs": 8},
  {"name": "At-Tin", "ayahs": 8},
  {"name": "Al-Alaq", "ayahs": 19},
  {"name": "Al-Qadr", "ayahs": 5},
  {"name": "Al-Bayyina", "ayahs": 8},
  {"name": "Az-Zalzala", "ayahs": 8},
  {"name": "Al-Adiyat", "ayahs": 11},
  {"name": "Al-Qari'a", "ayahs": 11},
  {"name": "At-Takathur", "ayahs": 8},
  {"name": "Al-Asr", "ayahs": 3},
  {"name": "Al-Humaza", "ayahs": 9},
  {"name": "Al-Fil", "ayahs": 5},
  {"name": "Quraish", "ayahs": 4},
  {"name": "Al-Ma'un", "ayahs": 7},
  {"name": "Al-Kawthar", "ayahs": 3},
  {"name": "Al-Kafiroon", "ayahs": 6},
  {"name": "An-Nasr", "ayahs": 3},
  {"name": "Al-Masad", "ayahs": 5},
  {"name": "Al-Ikhlas", "ayahs": 4},
  {"name": "Al-Falaq", "ayahs": 5},
  {"name": "An-Nas", "ayahs": 6}
];

export interface VerseRange {
  startSurah: string;
  startAyah: number;
  endSurah: string;
  endAyah: number;
  totalAyahs: number;
}

export function calculateVerseRange(
  startSurah: string,
  startAyah: number,
  targetVerses: number
): VerseRange {
  let currentSurahIndex = quranData.findIndex(s => s.name === startSurah);
  let remainingVerses = targetVerses;
  let currentAyah = startAyah;
  
  while (remainingVerses > 0) {
    const currentSurah = quranData[currentSurahIndex];
    const versesInCurrentSurah = currentSurah.ayahs - currentAyah + 1;
    
    if (versesInCurrentSurah >= remainingVerses) {
      return {
        startSurah,
        startAyah,
        endSurah: currentSurah.name,
        endAyah: currentAyah + remainingVerses - 1,
        totalAyahs: targetVerses
      };
    }
    
    remainingVerses -= versesInCurrentSurah;
    currentSurahIndex = (currentSurahIndex + 1) % quranData.length;
    currentAyah = 1;
  }
  
  throw new Error('Could not calculate verse range');
}

export function calculateVersesBetween(
  startSurah: string,
  startAyah: number,
  endSurah: string,
  endAyah: number
): number {
  let totalVerses = 0;
  let currentSurahIndex = quranData.findIndex(s => s.name === startSurah);
  const endSurahIndex = quranData.findIndex(s => s.name === endSurah);
  
  if (currentSurahIndex === endSurahIndex) {
    return endAyah - startAyah + 1;
  }

  // Add remaining verses from the first surah
  totalVerses += quranData[currentSurahIndex].ayahs - startAyah + 1;
  
  // Add verses from intermediate surahs
  currentSurahIndex = (currentSurahIndex + 1) % quranData.length;
  while (currentSurahIndex !== endSurahIndex) {
    totalVerses += quranData[currentSurahIndex].ayahs;
    currentSurahIndex = (currentSurahIndex + 1) % quranData.length;
  }
  
  // Add verses from the last surah
  totalVerses += endAyah;
  
  return totalVerses;
}

export function getVerseStatus(verseCount: number): {
  status: string;
  color: string;
  description: string;
} {
  if (verseCount >= 1000) {
    return {
      status: 'Mokantar',
      color: '#15803d',
      description: 'Huge rewards await you!'
    };
  } else if (verseCount >= 100) {
    return {
      status: 'Qanet',
      color: '#2563eb',
      description: 'Among those who are obedient to Allah'
    };
  } else if (verseCount >= 10) {
    return {
      status: 'Not Negligent',
      color: '#ca8a04',
      description: 'You are not among the negligent'
    };
  } else {
    return {
      status: 'Negligent',
      color: '#dc2626',
      description: 'Strive to read at least 10 verses'
    };
  }
}